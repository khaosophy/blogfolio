---
import Excerpt from '../components/Excerpt.astro';
import BlogLayout from '../layouts/BlogLayout.astro';

const response = await fetch('https://wp.khaosophy.com/wp-json/wp/v2/posts?per_page=100');
const posts = await response.json();
---
<BlogLayout
	title="All posts"
	description="Casey is a front end developer with a background in SEO and business management."
>
	{posts.map(post => (
		<Excerpt
			id={post.id}
			date={post.date}
			slug={post.slug}
			title={post.title.rendered}
			summary={post.excerpt.rendered}
		/>
	))}
</BlogLayout>